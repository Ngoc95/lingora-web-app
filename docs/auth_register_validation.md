# Auth Module - Registration Input Validation Logic

Tài liệu này mô tả các quy tắc kiểm tra đầu vào (input validation) cho chức năng Đăng ký (Register) trên client (Android) hiện tại, để đội Frontend Web tham khảo và đồng bộ.

## 1. Các trường dữ liệu (Fields)

Form đăng ký bao gồm các trường sau:

*   **Tên đăng nhập (Username)**
*   **Email**
*   **Mật khẩu (Password)**
*   **Xác nhận mật khẩu (Confirm Password)**

## 2. Quy tắc Validation (Client-side)

Hiện tại trên Android Frontend, các quy tắc validation được áp dụng như sau:

| Trường (Field) | Quy tắc (Rules) | Ghi chú (Notes) |
| :--- | :--- | :--- |
| **Username** | - Không được để trống (`Required`) | Kiểm tra tại thời điểm nhấn nút "Tạo tài khoản". |
| **Email** | - Không được để trống (`Required`)<br>- (Hiện tại chưa có regex check email strict trên client, chỉ dùng keyboard type Email) | Nên bổ sung regex check format email hợp lệ phía Web nếu cần chặt chẽ hơn trước khi gửi request. |
| **Password** | - Không được để trống (`Required`) | Type: Password (ẩn ký tự). |
| **Confirm Password** | - Không được để trống (`Required`)<br>- Phải trùng khớp hoàn toàn với **Password** | Nếu không khớp, hiển thị thông báo lỗi "Mật khẩu không khớp". |

## 3. Luồng xử lý (Flow)

1.  **Nhập liệu**: Người dùng nhập thông tin vào các trường.
2.  **Submit**: Khi người dùng nhấn nút "Tạo tài khoản" (`onRegisterClick`):
    *   Kiểm tra: `email` không rỗng AND `username` không rỗng AND `password` không rỗng.
    *   Kiểm tra: `password` == `confirmPassword`.
3.  **Hợp lệ**:
    *   Gọi API đăng ký (`authRepository.register`).
    *   Sau đó chuyển sang màn hình xác thực OTP.
4.  **Không hợp lệ**:
    *   Nếu password không khớp: Hiển thị text lỗi màu đỏ "Mật khẩu không khớp" ngay dưới trường Confirm Password.
    *   Nếu các trường khác rỗng: Nút hoặc hành động đăng ký sẽ không được thực hiện (nút vẫn enable nhưng không gọi API, hoặc logic check bên trong `onClick`). *Note: Trong code Android hiện tại, logic check nằm bên trong `onClick`, nếu check fail thì không làm gì cả.*

## 4. Phản hồi từ Server (Server-side Validation)

Sau khi Client gửi request, Server có thể trả về lỗi (được hiển thị lên UI thông qua biến `error`):
*   Email đã tồn tại.
*   Username đã tồn tại.
*   Định dạng email không hợp lệ (nếu server check kỹ).
*   Password quá yếu (nếu có logic này ở backend).

---
*Generated by Antigravity for FE Web Team alignment.*
